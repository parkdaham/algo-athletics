
# 알고케어 온보딩 플로우 PRD

## 📌 목적
운동선수 사용자에게 맞춤형 영양 루틴을 제공하기 위해, 기본 건강 정보와 개인화 목적 데이터를 수집한다. 해당 데이터는 루틴 설계에 활용되며, 주간 보정 및 AI 기반 상담의 기초가 된다.

---

## 🔁 전체 플로우

1. 회원가입
2. 회사 인증
3. 온보딩 시작
4. Step 1 - 신체 및 건강 상태 입력 (정형 정보, 한 페이지당 한 문항)
5. Step 2 - 영양 관리 목적 및 개인 관심 입력 (자연어 기반, 한 화면 구성)
6. Step 3 - 루틴 요약 결과 제공 + 수정 가능
7. 루틴 컨펌 → 홈 화면 진입

---

## 📥 Step 1. 정형 데이터 항목

- 키 (cm)
- 몸무게 (kg)
- 알러지 유무 (리스트 제공 + 없음 선택 가능)
- 복용 중 약물 (자유 입력 + 추천 자동완성)
- 진단 이력 질환
- 현재 보유 질환
- 여성 특이 상태 (임신/수유/폐경) → 성별이 여성일 경우만 노출

※ 모두 기본 루틴 설계 시 기초 기준값으로 활용됨

---

## ✍️ Step 2. 개인맞춤 설계 설문

> 모두 한 문항당 한 페이지 구성, 선택/자유 입력 혼합 UI

1. **운동/훈련 강도 및 빈도**
   - [선택형] (예: 주 5회 이상 고강도 / 중강도 / 휴식 위주 등)

2. **피로도 체크**
   - [선택형] (예: 매우 피곤함 / 약간 피곤함 / 보통 / 활기참 / 매우 활기찬)

3. **수면의 질 체크**
   - [선택형] (예: 매우 나쁨 / 나쁨 / 보통 / 좋음 / 매우 좋음)

4. **과거 및 현재 부상 이력**
   - [자유 입력]

5. **영양 관리 목표**
   - [선택형] 경기력 향상 / 회복력 강화 / 면역 관리 / 집중력 유지 / 피로 개선 등

6. **기타 전달 사항 (자연어)**
   - [자유 입력]  
     예시 프롬프트:  
     > "영양 관리로 더 신경 쓰고 싶은 부분이 있나요? 무엇이든 말씀해 주세요."  
     > (예: 속쓰린 게 싫어요, 철분만 빼주세요 등)

---

## ✅ Step 3. 루틴 생성 결과

- AI가 설계한 루틴 요약 제공
- 사용자 피드백 기반으로 일부 수정 가능
- “이대로 진행” 시 → 홈 화면으로 진입 및 루틴 적용

---

## ⚙️ 기술 및 정책 고려

- 자연어 입력은 LLM 기반 요약 처리
- 모든 입력은 이후 주간 피드백 루프와 연동
- 온보딩 완료 후 사용자 루틴은 수정 불가 → 주간 루틴 보정에서만 갱신
- Step 2는 선택사항이나, 입력 미진 시 최소 루틴만 생성됨

---

## 📤 데이터 예시 (최종 출력 JSON)

{
  "height": 178,
  "weight": 73,
  "allergies": ["계란"],
  "medications": ["타이레놀"],
  "past_diseases": ["고지혈증"],
  "current_conditions": ["없음"],
  "female_status": "수유 중",
  "goal": "빠른 회복",
  "interests": ["수면", "면역"],
  "avoid_ingredients": ["철분"],
  "training_intensity_last_week": "주 3회 고강도",
  "notes": "위장장애 이력 있음"
}

---

## 📝 향후 연계

- 주간 피드백 설계에 따라 일부 정보 자동 업데이트
- 사용자 루틴 보정은 이 데이터를 기반으로 변경될 수 있음
- Agent 대화에서 재설정 가능 (예: “목표를 바꾸고 싶어요”)
